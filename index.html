<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WoM2 Hangman Solver</title>

<style>
body{
    margin:0;
    font-family: Tahoma, Arial, sans-serif;
    background: radial-gradient(circle at top, #1b1e26, #0f1117);
    color:#ddd;
}

.container{
    width: 950px;
    margin: 40px auto;
    background: linear-gradient(180deg,#222733,#151821);
    border: 2px solid #c6a75e;
    border-radius: 10px;
    box-shadow: 0 0 25px rgba(0,0,0,0.6);
    padding: 25px;
}

h1{
    text-align:center;
    color:#ffd36b;
    text-shadow: 0 0 8px rgba(255,211,107,0.5);
    margin-bottom:10px;
}

.description{
    text-align:center;
    color:#aaa;
    margin-bottom:25px;
}

.input-area{
    text-align:center;
    margin-bottom:20px;
}

input{
    background:#0f1117;
    border:1px solid #c6a75e;
    color:white;
    padding:10px;
    margin:5px;
    width:220px;
    border-radius:6px;
    outline:none;
}

input:focus{
    box-shadow:0 0 10px rgba(198,167,94,0.7);
}

button{
    background: linear-gradient(#e7c676,#b88a2a);
    border:none;
    color:black;
    font-weight:bold;
    padding:10px 18px;
    margin-left:5px;
    border-radius:6px;
    cursor:pointer;
}

button:hover{
    filter:brightness(1.1);
}

.results{
    margin-top:20px;
}

.results h3{
    color:#ffd36b;
    border-bottom:1px solid #c6a75e;
    padding-bottom:5px;
}

.box{
    background:#0f1117;
    border:1px solid #333;
    border-radius:6px;
    padding:10px;
    margin-top:10px;
    max-height:200px;
    overflow:auto;
    font-size:14px;
}

.footer{
    margin-top:20px;
    text-align:right;
    color:#777;
    font-size:12px;
}
</style>
</head>

<body>

<div class="container">
    <h1>WoM2 Hangman Solver</h1>

    <div class="description">
        Enter the known pattern and wrong letters.<br>
        Use ? to for unknown letters<br>
        Example: <b>h?ng?an</b>
    </div>

    <div class="input-area">
        <input id="pattern" placeholder="Word pattern">
        <input id="wrong" placeholder="Wrong letters">
        <button onclick="solve()">Solve</button>
    </div>

    <div class="results">
        <h3>Letter Suggestions</h3>
        <div class="box" id="letters">—</div>

        <h3>Possible Words</h3>
        <div class="box" id="words">—</div>
    </div>

    <div class="footer">
        made by TurkErkegi
    </div>
</div>

<script>
let WORDS = [];

// kelime listesini yükle
async function loadWords(){
    const res = await fetch("wordlist.txt");
    const text = await res.text();
    WORDS = text.split("\n").map(w => w.trim().toLowerCase());
    console.log("Loaded words:", WORDS.length);
}

function matches(word, pattern){
    if(word.length !== pattern.length) return false;

    for(let i = 0; i < word.length; i++){
        if(pattern[i] !== "?" && pattern[i] !== word[i]){
            return false;
        }
    }
    return true;
}

function containsWrong(word, wrong){
    for(const l of wrong){
        if(l && word.includes(l)) return true;
    }
    return false;
}

function letterFrequency(words, guessed){
    const freq = {};

    for(const w of words){
        for(const l of new Set(w)){
            if(!guessed.has(l)){
                freq[l] = (freq[l] || 0) + 1;
            }
        }
    }

    return Object.entries(freq)
        .sort((a,b) => b[1] - a[1]);
}

function solve(){
    const pattern = document.getElementById("pattern").value.toLowerCase().trim();
    const wrong = document.getElementById("wrong").value.toLowerCase().split("");

    if(!pattern){
        alert("Enter a pattern.");
        return;
    }

    const guessed = new Set([
        ...pattern.replace(/\?/g,""),
        ...wrong
    ]);

    const candidates = WORDS
        .filter(w => matches(w, pattern))
        .filter(w => !containsWrong(w, wrong));

    const suggestions = letterFrequency(candidates, guessed);

    // harf önerileri
    document.getElementById("letters").innerText =
        suggestions.slice(0,10)
            .map(([l,c]) => `${l} (${c})`)
            .join(", ") || "No suggestion";

    // kelimeler
    document.getElementById("words").innerText =
        candidates.slice(0,200).join(", ") || "No words found";
}

loadWords();
</script>


</body>
</html>

